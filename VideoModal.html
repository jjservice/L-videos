<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="VideoModal.css">
    <title>LOLLIPOP VIDEO GALLERY</title>
</head>
<body>
    <div class="product">
    <img src="QuimicoDequeRoncaPic.jpg" onclick="openModal(0)">
    <p id="Price-tag">NEW</p>
    <h3>Quimico Ultramega x Danger</h3>
    <p class="size-tag">Pa Que Tu Me Ronca</p>
    <a href="#" class="Buy-Now-Tag">WATCH NOW!</a>
</div>

<!-- Modal for displaying video -->
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="prev" onclick="changeSlide(-1)">&#10094;</span>
        <span class="next" onclick="changeSlide(1)">&#10095;</span>
        <video id="modal-video" controls>
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
</div>

<script>
    // Replace images with video sources
    const productVideos = [
        [
        "Químico ultra Mega - Pa que tú me ronca  danger (video oficial).mp4",
        "Rick Ross - Champagne Moments (Official Music Video).mp4",
        "Taylor Swift - Blank Space.mp4",
        "Arcangel - JS4E (Video Oficial).mp4",
        "Chencho Corleone  Miky Woodz – Impaciente  (Video Oficial).mp4",
        "Chencho Corleone - Hora de Salir (Official Video).mp4",
        "Maldy - Tiempos de Plan B (Official Video).mp4",
        ], // Product 1 videos

        [
         "NikeAirForceVideo1.mp4", 
         "NikeAirForceVideo2.mp4", 
         "NikeAirForceVideo3.mp4"
        ], // Product 2 videos
    ];

    let currentProductIndex = -1;
    let currentVideoIndex = 0;

    function openModal(productIndex) {
        currentProductIndex = productIndex;
        currentVideoIndex = 0;  // Start from the first video
        showVideo();
        document.getElementById("myModal").style.display = "block";
    }

    function closeModal() {
        document.getElementById("myModal").style.display = "none";
        document.getElementById("modal-video").pause();  // Pause the video when closing the modal
    }

    function showVideo() {
        const videos = productVideos[currentProductIndex];
        const videoElement = document.getElementById("modal-video");
        videoElement.src = videos[currentVideoIndex];
        videoElement.play();  // Start playing the video immediately when opened
    }

    function changeSlide(direction) {
        currentVideoIndex += direction;
        if (currentVideoIndex < 0) {
            currentVideoIndex = productVideos[currentProductIndex].length - 1;
        } else if (currentVideoIndex >= productVideos[currentProductIndex].length) {
            currentVideoIndex = 0;
        }
        showVideo();
    }

    // Close the modal when clicked outside
    window.onclick = function(event) {
        if (event.target == document.getElementById("myModal")) {
            closeModal();
        }
    }
</script>

</body>
</html>